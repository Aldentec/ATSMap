<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">
  <Fragment>
    <!-- File components for ProHauler installation -->
    <ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">
      
      <!-- Main executable -->
      <Component Id="ProHaulerExe" Guid="A1B2C3D4-E5F6-4A5B-9C8D-1E2F3A4B5C6D">
        <File Id="ProHaulerExeFile" 
              Source="$(var.PublishDir)\ProHauler.UI.exe" 
              KeyPath="yes" 
              Checksum="yes">
          <Shortcut Id="StartMenuShortcut"
                    Directory="ProgramMenuFolder"
                    Name="ProHauler"
                    Description="Performance tracking dashboard for American Truck Simulator"
                    WorkingDirectory="INSTALLFOLDER"
                    Icon="ProHaulerIcon.exe"
                    IconIndex="0"
                    Advertise="yes" />
        </File>
      </Component>

      <!-- Configuration file -->
      <Component Id="AppSettingsJson" Guid="B2C3D4E5-F6A7-4B5C-9D8E-2F3A4B5C6D7E">
        <File Id="AppSettingsJsonFile" 
              Source="$(var.SourceDir)\src\ProHauler.UI\appsettings.json" 
              KeyPath="yes" />
      </Component>

      <!-- Debug symbols (PDB files) - Optional for troubleshooting -->
      <Component Id="ProHaulerCorePdb" Guid="C3D4E5F6-A7B8-4C5D-9E8F-3A4B5C6D7E8F">
        <File Id="ProHaulerCorePdbFile" 
              Source="$(var.PublishDir)\ProHauler.Core.pdb" 
              KeyPath="yes" />
      </Component>

      <Component Id="ProHaulerTelemetryPdb" Guid="D4E5F6A7-B8C9-4D5E-9F8A-4B5C6D7E8F9A">
        <File Id="ProHaulerTelemetryPdbFile" 
              Source="$(var.PublishDir)\ProHauler.Telemetry.pdb" 
              KeyPath="yes" />
      </Component>

      <Component Id="ProHaulerUIPdb" Guid="E5F6A7B8-C9D0-4E5F-9A8B-5C6D7E8F9A0B">
        <File Id="ProHaulerUIPdbFile" 
              Source="$(var.PublishDir)\ProHauler.UI.pdb" 
              KeyPath="yes" />
      </Component>

    </ComponentGroup>

    <!-- Application icon for shortcuts -->
    <Icon Id="ProHaulerIcon.exe" SourceFile="$(var.PublishDir)\ProHauler.UI.exe" />

  </Fragment>
</Wix>
